/* ===== Base / Reset ===== */
* { box-sizing: border-box; }
html, body, #root { height: 100%; }
html { scroll-behavior: smooth; }

/* Tipografía fluida + safe areas iOS */
:root{
  --fs-sm: clamp(12px, 1.4vw, 14px);
  --fs-md: clamp(14px, 1.6vw, 16px);
  --fs-lg: clamp(18px, 2.5vw, 24px);
  --fs-xl: clamp(24px, 4vw, 36px);
  --safe-top: env(safe-area-inset-top);
  --safe-bottom: env(safe-area-inset-bottom);
}

/* ===== Body (FONDO con imagen optimizado) =====
   - En móvil NO usamos attachment: fixed para evitar el "salto".
   - En desktop (>=769px) sí activamos fixed para el efecto parallax.
   - Se proveen formatos modernos con fallback (AVIF/WEBP/JPG). */
body{
  margin: 0;
  font-family: 'Be Vietnam Pro', system-ui, Segoe UI, Roboto, Arial, sans-serif;
  font-size: var(--fs-md);
  color: var(--text);
  background:
    image-set(
      url("/src/assets/bg.avif") type("image/avif"),
      url("/src/assets/bg.webp") type("image/webp"),
      url("/src/assets/bg.jpg")  type("image/jpeg")
    )
    center/cover no-repeat;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
@media (min-width: 769px){
  body{ background-attachment: fixed; }
}

/* ===== Layout genérico ===== */
.container{
  width: min(100%, 1024px);
  margin: 0 auto;
  padding-inline: clamp(16px, 4vw, 32px);
  padding-block: 24px;
}
.app{
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  padding-bottom: var(--safe-bottom);
}
.main{ flex: 1; }
.section{ display: grid; gap: 16px; }

/* Utilidades */
.center-text{ text-align: center; }
.m0{ margin: 0; }
.row{ display: flex; gap: 16px; }
.center{ display:flex; align-items: center; }
.space-between{ display:flex; justify-content: space-between; }

/* Tipos */
.title{
  font-size: var(--fs-xl);
  font-weight: 700;
  margin: 8px 0 12px;
  line-height: 1.2;
}
.subtitle{
  font-size: var(--fs-lg);
  font-weight: 600;
  margin: 0;
  line-height: 1.3;
}
.muted{ color: var(--muted); }

/* Header / Footer (base neutra; detalles en components.css) */
.header { padding: calc(12px + var(--safe-top)) 0 12px; }
.footer { padding: 18px 0; }
.brand  { font-weight: 800; text-decoration: none; color: var(--text); }

/* ===== Medias para responsividad ===== */
@media (max-width: 1024px){
  .container{ padding-inline: clamp(16px, 5vw, 28px); }
}
@media (max-width: 768px){
  .row{ flex-wrap: wrap; }
  .title{ font-size: clamp(22px, 5.5vw, 30px); }
  .subtitle{ font-size: clamp(18px, 3.8vw, 22px); }
}
@media (max-width: 480px){
  .container{ padding-inline: 16px; }
}

/* ===== Accesibilidad ===== */
:focus-visible{
  outline: 3px solid rgba(143,149,255,.6);
  outline-offset: 2px;
  border-radius: 12px;
}
@media (prefers-reduced-motion: reduce){
  *{
    animation-duration: .01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: .01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ===== Imágenes responsivas ===== */
img{ max-width: 100%; height: auto; display: block; }

/* ===== Helpers ===== */
.full-center{ min-height: calc(100vh - 120px); display: grid; place-items: center; }
.prose{ max-width: 70ch; }
.visually-hidden{
  position: absolute !important;
  width: 1px; height: 1px; padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0,0,0,0);
  white-space: nowrap; border: 0;
}



/* === Fondo que SIEMPRE cubre en móviles altos (Fold/Flip) === */
/* 1) aseguramos altura mínima con unidades de viewport modernas */
html, body { height: auto; }           /* evitamos locking a 100% del html */
body{
  min-height: 100svh;                  /* “small viewport” estable al mostrar toolbars */
}
@supports (min-height: 100dvh){
  body{ min-height: 100dvh; }          /* usa el viewport “dinámico” cuando exista */
}

/* 2) movemos la imagen a un pseudo-elemento que tapiza todo el documento */
body{
  position: relative;
  background: none;                     /* quitamos el background directo del body */
}
body::before{
  content: "";
  position: absolute;                   /* en móvil NO usamos fixed para evitar parpadeo */
  inset: 0;                             /* top/right/bottom/left = 0 */
  z-index: -1;
  background:
    image-set(
      url("/src/assets/bg.avif") type("image/avif"),
      url("/src/assets/bg.webp") type("image/webp"),
      url("/src/assets/bg.jpg")  type("image/jpeg")
    )
    center/cover no-repeat;
}

/* 3) en desktop reactivamos el “parallax” con fixed (sin afectar móviles) */
@media (min-width: 769px){
  body::before{
    position: fixed;
  }
}

/* 4) color base por si tarda la imagen (evita flashes) */
html { background-color: #1f2449; }     /* o usa tu token de fondo */
